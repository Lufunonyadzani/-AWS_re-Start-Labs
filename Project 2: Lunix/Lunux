
# Software Management Lab

## Overview

This lab focuses on managing software on an Amazon Linux EC2 instance. You will practice updating the system using `yum`, rolling back packages, and installing and configuring the AWS Command Line Interface (CLI).

---

## Lab Objectives

After completing this lab, you will be able to:

* Update a Linux machine using the `yum` package manager
* Roll back or downgrade packages using `yum history`
* Install the AWS CLI on Amazon Linux
* Configure the AWS CLI with IAM credentials

---

## Lab Environment

The following resources are pre-created for you:

* **Amazon EC2 Instance** (Command Host) in a public subnet
* **Amazon VPC**
* **Public Subnet**

> Note: Service access is limited to only what is required for this lab.

---

## Task 1: Connect to the EC2 Instance (SSH)

### macOS / Linux Users

1. Download the `labsuser.pem` key file.
2. Navigate to download directory:

   ```bash
   cd ~/Downloads
   ```
3. Set permissions:

   ```bash
   chmod 400 labsuser.pem
   ```
4. Connect via SSH:

   ```bash
   ssh -i labsuser.pem ec2-user@<public-ip>
   ```
5. Enter `yes` when prompted.

### Windows Users

1. Download the `labsuser.ppk` file.
2. Install PuTTY.
3. Configure PuTTY with the instanceâ€™s public IP and load the `.ppk` key.
4. Connect to the instance.

---

## Task 2: Update the Linux Machine

1. Confirm location:

   ```bash
   pwd
   cd companyA
   ```
2. Check available updates:

   ```bash
   sudo yum -y check-update
   ```
3. Apply security updates:

   ```bash
   sudo yum update --security
   ```
4. Upgrade all packages:

   ```bash
   sudo yum -y upgrade
   ```
5. Install `httpd` for practice:

   ```bash
   sudo yum install httpd -y
   ```

---

## Task 3: Roll Back a Package

1. View history:

   ```bash
   sudo yum history list
   ```
2. Inspect a history entry:

   ```bash
   sudo yum history info <id>
   ```
3. Roll back the transaction:

   ```bash
   sudo yum -y history undo <id>
   ```

---

## Task 4: Install the AWS CLI

1. Verify Python:

   ```bash
   python3 --version
   ```
2. Check for pip:

   ```bash
   pip3 --version
   ```
3. Download the AWS CLI installer:

   ```bash
   curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
   ```
4. Unzip the installer:

   ```bash
   unzip awscliv2.zip
   ```
5. Install:

   ```bash
   sudo ./aws/install
   ```
6. Test the CLI:

   ```bash
   aws help
   ```

---

## Task 5: Configure the AWS CLI

1. Run configuration:

   ```bash
   aws configure
   ```

   * Leave Access Key ID blank
   * Leave Secret Key blank
   * Region: `us-west-2`
   * Output format: `json`

2. Open credentials file:

   ```bash
   sudo nano ~/.aws/credentials
   ```

3. Paste your AWS lab credentials:

   ```
   [default]
   aws_access_key_id=<your-key>
   aws_secret_access_key=<your-secret>
   aws_session_token=<your-session-token>
   ```

4. Find your EC2 Instance ID in the AWS console.

5. Describe an instance attribute:

   ```bash
   aws ec2 describe-instance-attribute --instance-id <instance-id> --attribute instanceType
   ```

---

## Key Learnings

* Yum handles package installation, updates, history, and rollbacks.
* Software rollbacks help recover from bad updates.
* AWS CLI requires Python and pip.
* AWS CLI configuration uses local credential files and supports temporary session tokens.

---

## Author

Lufuno
Lab completed using Amazon Linux EC2 in Vocareum Labs.
